From 6a96db6a5a8ba5c18ed2b3853af80f435b694e47 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Micha=C5=82=20G=C3=B3rny?= <mgorny@gentoo.org>
Date: Wed, 22 Apr 2020 14:12:47 +0200
Subject: [PATCH 1/8] Blacklist test_pickletools from __all__ test as it
 imports numpy

The test imports numpy, bringing its warnings along with it and causing
the test to fail.
---
 Lib/test/test___all__.py | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/Lib/test/test___all__.py b/Lib/test/test___all__.py
index ecf73b3ad1b..cd9b6256cf3 100644
--- a/Lib/test/test___all__.py
+++ b/Lib/test/test___all__.py
@@ -98,6 +98,8 @@ def test_all(self):
         denylist = set([
             # Will raise a SyntaxError when compiling the exec statement
             '__future__',
+            # imports numpy which causes warnings
+            'test.test_pickletools',
         ])
 
         # In case _socket fails to build, make this test fail more gracefully
-- 
2.45.2

